{% import "$PF_PACKAGE$/app" %}
{% import "$PF_PACKAGE$/app/controller/cutil" %}
{% import "$PF_PACKAGE$/views/layout" %}

{% code type Results struct {
  layout.Basic
  Q string
  Results []string
} %}

{% func (p *Results) Body(as *app.State, ps *cutil.PageState) %}
  <div class="card">
    <h3>{% if p.Q == "" %}Search{% else %}[{%s p.Q %}] search results{% endif %}</h3>
    <form action="{%s ps.SearchPath %}">
      <input name="q" value="{%s p.Q %}" />
    </form>
  </div>
  {% if p.Q != "" %}
  <div class="card">
    <h3>Results</h3>
    {% if len(p.Results) == 0 %}
    <em>no results</em>
    {% else %}
    <ul>
      {% for _, res := range p.Results %}
      <li>Coming soon: {%s res %}</li>
      {% endfor %}
    </ul>
    {% endif %}
  </div>
  {% endif %}
{% endfunc %}
